(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7],{3197:(e,a,t)=>{Promise.resolve().then(t.bind(t,2528)),Promise.resolve().then(t.bind(t,7636))},7636:(e,a,t)=>{"use strict";t.d(a,{default:()=>o});var r=t(5155),s=t(2115),l=t(5695);function o(){let e=(0,l.useRouter)(),[a,t]=(0,s.useState)("orders"),[o,i]=(0,s.useState)(!1),[d,n]=(0,s.useState)(!1),[c,m]=(0,s.useState)(0),[x,u]=(0,s.useState)(0),[h,g]=(0,s.useState)([]),[p,f]=(0,s.useState)([]),[v,b]=(0,s.useState)({img:"/placeholder.svg?height=160&width=160",title:"Produto LEGO",price:"",orderNo:"",productId:"",customerEmail:""}),j=(0,s.useRef)(),N=(0,s.useRef)();(0,s.useEffect)(()=>{let e=localStorage.getItem("checkoutProduct"),a=localStorage.getItem("pixPayment");if(e){var t,r,s;let l=JSON.parse(e),o={email:"",name:""},i=(null===(t=l.finalPrice)||void 0===t?void 0:t.toString())||(null===(r=l.price)||void 0===r?void 0:r.toString())||"";if(a){let e=JSON.parse(a);o={email:e.email||"",name:e.name||""},i=(null===(s=e.amount)||void 0===s?void 0:s.toString())||i}b({img:l.image||"https://images.seeklogo.com/logo-png/8/1/lego-logo-png_seeklogo-83157.png",title:l.name||"Produto LEGO",price:i,orderNo:"#"+Math.floor(1e3+9e3*Math.random()),productId:l.id||"",customerEmail:o.email})}else b({img:"https://images.seeklogo.com/logo-png/8/1/lego-logo-png_seeklogo-83157.png",title:"Produto LEGO",price:"",orderNo:"#"+Math.floor(1e3+9e3*Math.random()),productId:"",customerEmail:""})},[]);let w=e=>{if(!e||isNaN(Number(e)))return"â€”";let a=Number(e);return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a>1e3?a/100:a)},y=()=>{let a={id:"frete-recalculo",name:"Rec\xe1lculo de Frete",price:2164,finalPrice:2164,originalPrice:2164,isFree:!1,image:v.img,description:"Servi\xe7o de rec\xe1lculo de frete com transportadoras parceiras",quantity:1,isFrete:!0,isDigital:!0,requiresShipping:!1};localStorage.setItem("upsellProduct",JSON.stringify(a));let t=localStorage.getItem("checkoutProduct");t&&localStorage.setItem("originalProduct",t),e.push("/checkout-upsell")},k=()=>{u(0),f([]),[800,2e3,3200,4400,5600].forEach((e,a)=>{setTimeout(()=>{f(e=>[...e,a])},e)});let e=Date.now(),a=()=>{let t=Math.min((Date.now()-e)/12500,1);u(100*t),t<1?N.current=requestAnimationFrame(a):setTimeout(()=>{i(!0)},500)};N.current=requestAnimationFrame(a)};return(0,s.useEffect)(()=>()=>{j.current&&cancelAnimationFrame(j.current),N.current&&cancelAnimationFrame(N.current)},[]),(0,r.jsxs)("div",{className:"max-w-3xl mx-auto p-3",children:["orders"===a&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 font-bold text-xs text-gray-600 uppercase tracking-wider mb-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full bg-red-600 shadow-lg shadow-red-200"}),"PEDIDOS LEGO STORE"]}),(0,r.jsxs)("button",{onClick:()=>{t("loading"),m(0),g([]);let e=Date.now(),a=()=>{let r=Math.min((Date.now()-e)/8e3,1);m(100*r),r<1?j.current=requestAnimationFrame(a):t("upsell")};j.current=requestAnimationFrame(a),[0,2e3,4e3,6e3].forEach((e,a)=>{setTimeout(()=>{g(e=>[...e,a])},e)})},className:"w-full flex gap-3 items-center rounded-2xl p-3 bg-gradient-to-r from-red-50 to-transparent hover:shadow-lg transition-all duration-200 active:translate-y-0.5",children:[(0,r.jsx)("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-red-500 to-red-600 text-white font-black text-sm flex items-center justify-center",children:"!"}),(0,r.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-2xl overflow-hidden bg-gray-100 shadow-md flex-shrink-0",children:(0,r.jsx)("img",{src:v.img||"/placeholder.svg",alt:"Produto LEGO",className:"w-full h-full object-cover object-center"})}),(0,r.jsxs)("div",{className:"flex-1 text-left min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,r.jsx)("div",{className:"font-black text-base truncate",children:v.title}),(0,r.jsx)("div",{className:"text-xs bg-gray-100 rounded-full px-2 py-1 font-bold text-gray-600",children:v.orderNo}),(0,r.jsx)("div",{className:"text-xs font-black text-red-800 bg-red-100 rounded-full px-2 py-1",children:w(v.price)})]}),(0,r.jsx)("div",{className:"text-xs text-red-800 font-semibold mt-1",children:"Erro no c\xe1lculo de frete identificado. Clique para recalcular com transportadoras parceiras."})]})]})]}),"loading"===a&&(0,r.jsxs)("div",{className:"rounded-2xl p-4 bg-gradient-to-r from-red-50 to-transparent shadow-lg",children:[(0,r.jsxs)("div",{className:"flex gap-3 items-center mb-4",children:[(0,r.jsx)("div",{className:"w-14 h-14 rounded-2xl overflow-hidden bg-gray-100 shadow-md",children:(0,r.jsx)("img",{src:v.img||"/placeholder.svg",alt:"Produto LEGO",className:"w-14 h-14 object-cover"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-black text-base",children:v.title}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:["Pedido ",v.orderNo]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsx)("div",{className:"flex-1 h-3 bg-gray-200 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:"h-full bg-gradient-to-r from-red-600 to-red-700 transition-all duration-300 ease-linear",style:{width:"".concat(Math.min(c,100),"%")}})}),(0,r.jsxs)("div",{className:"text-xs text-gray-600 font-mono min-w-9 text-right",children:[Math.round(Math.min(c,100)),"%"]})]}),(0,r.jsx)("ul",{className:"space-y-2",children:["Verificando transportadoras...","Consultando tabelas de frete...","Analisando rotas dispon\xedveis...","Detectando inconsist\xeancias..."].map((e,a)=>(0,r.jsxs)("li",{className:"flex items-center gap-2 text-sm transition-all duration-300 ".concat(h.includes(a)?"opacity-100 translate-y-0":"opacity-25 translate-y-1"),children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full bg-red-600"}),(0,r.jsx)("span",{children:e})]},a))})]}),"upsell"===a&&(0,r.jsxs)("div",{className:"rounded-3xl p-5 bg-gradient-to-r from-red-50 to-transparent shadow-xl space-y-5",children:[(0,r.jsxs)("div",{className:"flex gap-4 items-center flex-wrap",children:[(0,r.jsx)("div",{className:"w-16 h-16 rounded-2xl overflow-hidden shadow-lg",children:(0,r.jsx)("img",{src:v.img||"/placeholder.svg",alt:"Produto LEGO",className:"w-16 h-16 object-cover"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"text-xs font-black text-red-700 uppercase tracking-wider",children:"Erro no c\xe1lculo de frete"}),(0,r.jsx)("h2",{className:"text-2xl font-black text-gray-900 leading-tight",children:"Rec\xe1lculo de Frete"})]})]}),(0,r.jsxs)("div",{className:"grid gap-5 lg:grid-cols-2 lg:items-start",children:[(0,r.jsx)("div",{className:"space-y-3",children:["Consulta em tempo real com transportadoras parceiras.","Rec\xe1lculo autom\xe1tico baseado em peso e dimens\xf5es.","Garantia de menor prazo de entrega dispon\xedvel.","Suporte especializado para rastreamento."].map((e,a)=>(0,r.jsxs)("div",{className:"flex gap-3 items-start text-sm text-gray-700",children:[(0,r.jsx)("div",{className:"w-5 h-5 rounded-md bg-gradient-to-br from-red-600 to-red-700 flex-shrink-0 relative",children:(0,r.jsx)("div",{className:"absolute left-1 top-0.5 w-2 h-2 border-r-2 border-b-2 border-white transform rotate-45"})}),(0,r.jsx)("span",{children:e})]},a))}),(0,r.jsx)("div",{className:"rounded-2xl p-4 bg-gradient-to-b from-white/60 to-white/20 shadow-lg space-y-3",children:(0,r.jsxs)("div",{className:"flex gap-3 flex-wrap justify-center",children:[(0,r.jsx)("button",{onClick:()=>{sessionStorage.setItem("upsell_frete_selected","1"),t("freteCalculating"),k()},className:"px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white font-black text-sm rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 active:translate-y-0.5 min-w-44",children:"Recalcular frete agora"}),(0,r.jsx)("button",{onClick:()=>{sessionStorage.setItem("upsell_frete_selected","0"),n(!0)},className:"px-6 py-3 bg-gray-100 text-gray-800 font-black text-sm rounded-xl hover:bg-gray-200 transition-all duration-200 active:translate-y-0.5 min-w-44",children:"Manter frete atual"})]})})]})]}),"freteCalculating"===a&&(0,r.jsxs)("div",{className:"rounded-3xl p-5 bg-gradient-to-r from-red-50 to-white shadow-xl space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-black text-gray-900",children:"Recalculando Frete"}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"O rec\xe1lculo ser\xe1 conclu\xeddo ap\xf3s a verifica\xe7\xe3o."})]}),(0,r.jsxs)("div",{className:"grid gap-4 lg:grid-cols-2",children:[(0,r.jsxs)("div",{className:"rounded-2xl p-3 bg-gray-50 space-y-3",children:[(0,r.jsx)("h4",{className:"text-xs font-bold uppercase tracking-wider text-red-700",children:"Consultando transportadoras"}),(0,r.jsx)("div",{className:"space-y-2",children:[{label:"Correios",value:"Sedex / PAC"},{label:"Jadlog",value:"Expresso / Econ\xf4mico"},{label:"Total Express",value:"R\xe1pido / Standard"},{label:"Braspress",value:"Rodovi\xe1rio"}].map((e,a)=>(0,r.jsxs)("div",{className:"flex justify-between items-center text-sm transition-all duration-500 ".concat(p.includes(a)?"opacity-100 translate-y-0":"opacity-15 translate-y-1"),children:[(0,r.jsx)("span",{className:"text-gray-500 text-xs",children:e.label}),(0,r.jsx)("span",{className:"font-bold text-gray-900",children:e.value})]},a))})]}),(0,r.jsxs)("div",{className:"rounded-2xl p-3 bg-gray-50 space-y-3",children:[(0,r.jsx)("h4",{className:"text-xs font-bold uppercase tracking-wider text-red-700",children:"Resumo"}),(0,r.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,r.jsx)("div",{className:"w-14 h-14 rounded-2xl overflow-hidden bg-gray-100 shadow-md",children:(0,r.jsx)("img",{src:v.img||"/placeholder.svg",alt:"Produto LEGO",className:"w-14 h-14 object-cover"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-black text-sm",children:v.title}),(0,r.jsx)("div",{className:"text-red-700 font-black text-sm",children:w(v.price)})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,r.jsx)("span",{children:"Concluindo rec\xe1lculo de frete"}),(0,r.jsxs)("span",{className:"font-mono text-gray-600",children:[Math.round(x),"%"]})]}),(0,r.jsx)("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:"h-full bg-gradient-to-r from-red-600 to-red-700 transition-all duration-300 ease-linear",style:{width:"".concat(x,"%")}})})]})]})]})]}),o&&(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:(0,r.jsxs)("div",{className:"w-full max-w-lg rounded-2xl p-5 bg-gradient-to-b from-white to-gray-50 shadow-2xl space-y-4 animate-in fade-in zoom-in-95 duration-200",children:[(0,r.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,r.jsx)("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-red-500 to-red-600 text-white font-black text-3xl flex items-center justify-center animate-pulse",children:"!"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-black text-red-800",children:"N\xe3o foi poss\xedvel concluir o rec\xe1lculo"}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"O rec\xe1lculo foi interrompido antes da finaliza\xe7\xe3o"})]})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-700",children:["Para recalcular o frete \xe9 necess\xe1rio pagar a taxa de processamento. Caso n\xe3o efetue o pagamento, poder\xe3o ocorrer consequ\xeancias:",(0,r.jsxs)("ul",{className:"mt-2 ml-4 space-y-1 list-disc",children:[(0,r.jsx)("li",{children:"Atraso na entrega do produto"}),(0,r.jsx)("li",{children:"Cobran\xe7a de frete adicional na entrega"}),(0,r.jsx)("li",{children:"Impossibilidade de rastreamento"})]})]}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)("button",{onClick:y,className:"px-6 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white font-black text-sm rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 active:translate-y-0.5",children:"Pagar taxa de rec\xe1lculo"})})]})}),d&&(0,r.jsx)("div",{className:"fixed bottom-3 left-1/2 transform -translate-x-1/2 w-full max-w-3xl z-40 px-4 animate-in slide-in-from-bottom duration-300",children:(0,r.jsxs)("div",{className:"rounded-2xl p-4 bg-gradient-to-b from-white to-gray-50 shadow-2xl space-y-3",children:[(0,r.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,r.jsx)("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-red-500 to-red-600 text-white font-black text-lg flex items-center justify-center",children:"!"}),(0,r.jsx)("h4",{className:"font-black text-red-800",children:"Aten\xe7\xe3o: manter frete atual pode gerar problemas"})]}),(0,r.jsx)("div",{className:"text-sm text-gray-700",children:"Caso voc\xea opte por n\xe3o recalcular o frete, poder\xe1 haver atrasos na entrega, cobran\xe7a adicional e dificuldades no rastreamento do produto."}),(0,r.jsxs)("div",{className:"flex gap-3 flex-wrap justify-center",children:[(0,r.jsx)("button",{onClick:()=>{n(!1),y()},className:"px-4 py-2 bg-gradient-to-r from-red-600 to-red-700 text-white font-black text-sm rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 active:translate-y-0.5",children:"Pagar taxa de rec\xe1lculo"}),(0,r.jsx)("button",{onClick:()=>n(!1),className:"px-4 py-2 bg-gray-100 text-gray-800 font-black text-sm rounded-xl hover:bg-gray-200 transition-all duration-200 active:translate-y-0.5",children:"Manter frete atual"})]})]})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[497,701,528,441,684,358],()=>a(3197)),_N_E=e.O()}]);