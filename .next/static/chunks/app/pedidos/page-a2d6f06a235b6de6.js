(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[43],{752:(e,a,t)=>{Promise.resolve().then(t.bind(t,2528)),Promise.resolve().then(t.bind(t,7041))},7041:(e,a,t)=>{"use strict";t.d(a,{default:()=>i});var s=t(5155),r=t(2115),l=t(5695);function i(){let e=(0,l.useRouter)(),[a,t]=(0,r.useState)("orders"),[i,o]=(0,r.useState)(!1),[d,n]=(0,r.useState)(!1),[c,m]=(0,r.useState)(0),[x,g]=(0,r.useState)(0),[h,u]=(0,r.useState)([]),[p,f]=(0,r.useState)([]),[v,N]=(0,r.useState)({img:"/placeholder.svg?height=160&width=160",title:"Produto LEGO",price:"",orderNo:"",productId:"",customerEmail:""}),j=(0,r.useRef)(),b=(0,r.useRef)();(0,r.useEffect)(()=>{let e=localStorage.getItem("checkoutProduct"),a=localStorage.getItem("pixPayment");if(e){var t,s,r;let l=JSON.parse(e),i={email:"",name:""},o=(null===(t=l.finalPrice)||void 0===t?void 0:t.toString())||(null===(s=l.price)||void 0===s?void 0:s.toString())||"";if(a){let e=JSON.parse(a);i={email:e.email||"",name:e.name||""},o=(null===(r=e.amount)||void 0===r?void 0:r.toString())||o}N({img:l.image||"https://images.seeklogo.com/logo-png/8/1/lego-logo-png_seeklogo-83157.png",title:l.name||"Produto LEGO",price:o,orderNo:"#"+Math.floor(1e3+9e3*Math.random()),productId:l.id||"",customerEmail:i.email})}else N({img:"https://images.seeklogo.com/logo-png/8/1/lego-logo-png_seeklogo-83157.png",title:"Produto LEGO",price:"",orderNo:"#"+Math.floor(1e3+9e3*Math.random()),productId:"",customerEmail:""})},[]);let w=e=>{if(!e||isNaN(Number(e)))return"—";let a=Number(e);return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a>1e3?a/100:a)},y=()=>{let a={id:"nfe-emissao",name:"Emiss\xe3o de NF-e",price:1783,finalPrice:1783,originalPrice:1783,isFree:!1,image:v.img,description:"Servi\xe7o de emiss\xe3o de NF-e para produtos LEGO com valida\xe7\xe3o SEFAZ",quantity:1,isNfe:!0,isDigital:!0,requiresShipping:!1};localStorage.setItem("upsellProduct",JSON.stringify(a));let t=localStorage.getItem("checkoutProduct");t&&localStorage.setItem("originalProduct",t),localStorage.getItem("utm-params"),e.push("/checkout-upsell")},k=()=>{g(0),f([]),[800,2e3,3200,4400,5600].forEach((e,a)=>{setTimeout(()=>{f(e=>[...e,a])},e)});let e=Date.now(),a=()=>{let t=Math.min((Date.now()-e)/12500,1);g(100*t),t<1?b.current=requestAnimationFrame(a):setTimeout(()=>{o(!0)},500)};b.current=requestAnimationFrame(a)};return(0,r.useEffect)(()=>()=>{j.current&&cancelAnimationFrame(j.current),b.current&&cancelAnimationFrame(b.current)},[]),(0,s.jsxs)("div",{className:"max-w-3xl mx-auto p-3",children:["orders"===a&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 font-bold text-xs text-gray-600 uppercase tracking-wider mb-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-red-600 shadow-lg shadow-red-200"}),"PEDIDOS LEGO STORE"]}),(0,s.jsxs)("button",{onClick:()=>{t("loading"),m(0),u([]);let e=Date.now(),a=()=>{let s=Math.min((Date.now()-e)/8e3,1);m(100*s),s<1?j.current=requestAnimationFrame(a):t("upsell")};j.current=requestAnimationFrame(a),[0,2e3,4e3,6e3].forEach((e,a)=>{setTimeout(()=>{u(e=>[...e,a])},e)})},className:"w-full flex gap-3 items-center rounded-2xl p-3 bg-gradient-to-r from-red-50 to-transparent hover:shadow-lg transition-all duration-200 active:translate-y-0.5",children:[(0,s.jsx)("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-red-500 to-red-600 text-white font-black text-sm flex items-center justify-center",children:"!"}),(0,s.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-2xl overflow-hidden bg-gray-100 shadow-md flex-shrink-0",children:(0,s.jsx)("img",{src:v.img||"/placeholder.svg",alt:"Produto LEGO",className:"w-full h-full object-cover object-center"})}),(0,s.jsxs)("div",{className:"flex-1 text-left min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,s.jsx)("div",{className:"font-black text-base truncate",children:v.title}),(0,s.jsx)("div",{className:"text-xs bg-gray-100 rounded-full px-2 py-1 font-bold text-gray-600",children:v.orderNo}),(0,s.jsx)("div",{className:"text-xs font-black text-red-800 bg-red-100 rounded-full px-2 py-1",children:w(v.price)})]}),(0,s.jsx)("div",{className:"text-xs text-red-800 font-semibold mt-1",children:"H\xe1 inconformidades fiscais identificadas no seu pedido LEGO. Clique para verificar e regularizar."})]})]})]}),"loading"===a&&(0,s.jsxs)("div",{className:"rounded-2xl p-4 bg-gradient-to-r from-red-50 to-transparent shadow-lg",children:[(0,s.jsxs)("div",{className:"flex gap-3 items-center mb-4",children:[(0,s.jsx)("div",{className:"w-14 h-14 rounded-2xl overflow-hidden bg-gray-100 shadow-md",children:(0,s.jsx)("img",{src:v.img||"/placeholder.svg",alt:"Produto LEGO",className:"w-14 h-14 object-cover"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-black text-base",children:v.title}),(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:["Pedido ",v.orderNo]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:"flex-1 h-3 bg-gray-200 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-gradient-to-r from-red-600 to-red-700 transition-all duration-300 ease-linear",style:{width:"".concat(Math.min(c,100),"%")}})}),(0,s.jsxs)("div",{className:"text-xs text-gray-600 font-mono min-w-9 text-right",children:[Math.round(Math.min(c,100)),"%"]})]}),(0,s.jsx)("ul",{className:"space-y-2",children:["Validando pagamento...","Pagamento confirmado ✓","Sincronizando com a operadora...","Gerando pr\xe9‑protocolo..."].map((e,a)=>(0,s.jsxs)("li",{className:"flex items-center gap-2 text-sm transition-all duration-300 ".concat(h.includes(a)?"opacity-100 translate-y-0":"opacity-25 translate-y-1"),children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-red-600"}),(0,s.jsx)("span",{children:e})]},a))})]}),"upsell"===a&&(0,s.jsxs)("div",{className:"rounded-3xl p-5 bg-gradient-to-r from-red-50 to-transparent shadow-xl space-y-5",children:[(0,s.jsxs)("div",{className:"flex gap-4 items-center flex-wrap",children:[(0,s.jsx)("div",{className:"w-16 h-16 rounded-2xl overflow-hidden shadow-lg",children:(0,s.jsx)("img",{src:v.img||"/placeholder.svg",alt:"Produto LEGO",className:"w-16 h-16 object-cover"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"text-xs font-black text-red-700 uppercase tracking-wider",children:"Documento fiscal obrigat\xf3rio"}),(0,s.jsx)("h2",{className:"text-2xl font-black text-gray-900 leading-tight",children:"Emiss\xe3o de Nota Fiscal (NF‑e)"})]})]}),(0,s.jsxs)("div",{className:"grid gap-5 lg:grid-cols-2 lg:items-start",children:[(0,s.jsx)("div",{className:"space-y-3",children:["Valida\xe7\xe3o automatizada junto \xe0 SEFAZ para produtos LEGO.","Envio do XML e DANFE por e‑mail cadastrado.","Chave de acesso e suporte fiscal especializado.","Garantia de conformidade fiscal para importados."].map((e,a)=>(0,s.jsxs)("div",{className:"flex gap-3 items-start text-sm text-gray-700",children:[(0,s.jsx)("div",{className:"w-5 h-5 rounded-md bg-gradient-to-br from-red-600 to-red-700 flex-shrink-0 relative",children:(0,s.jsx)("div",{className:"absolute left-1 top-0.5 w-2 h-2 border-r-2 border-b-2 border-white transform rotate-45"})}),(0,s.jsx)("span",{children:e})]},a))}),(0,s.jsx)("div",{className:"rounded-2xl p-4 bg-gradient-to-b from-white/60 to-white/20 shadow-lg space-y-3",children:(0,s.jsxs)("div",{className:"flex gap-3 flex-wrap justify-center",children:[(0,s.jsx)("button",{onClick:()=>{sessionStorage.setItem("upsell_nfe_selected","1"),t("nfeMaking"),k()},className:"px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white font-black text-sm rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 active:translate-y-0.5 min-w-44",children:"Emitir NF‑e agora"}),(0,s.jsx)("button",{onClick:()=>{sessionStorage.setItem("upsell_nfe_selected","0"),n(!0)},className:"px-6 py-3 bg-gray-100 text-gray-800 font-black text-sm rounded-xl hover:bg-gray-200 transition-all duration-200 active:translate-y-0.5 min-w-44",children:"Continuar sem NF‑e"})]})})]})]}),"nfeMaking"===a&&(0,s.jsxs)("div",{className:"rounded-3xl p-5 bg-gradient-to-r from-red-50 to-white shadow-xl space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-black text-gray-900",children:"Gerando NF‑e"}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"A emiss\xe3o ser\xe1 conclu\xedda ap\xf3s a verifica\xe7\xe3o."})]}),(0,s.jsxs)("div",{className:"grid gap-4 lg:grid-cols-2",children:[(0,s.jsxs)("div",{className:"rounded-2xl p-3 bg-gray-50 space-y-3",children:[(0,s.jsx)("h4",{className:"text-xs font-bold uppercase tracking-wider text-red-700",children:"Preenchendo dados"}),(0,s.jsx)("div",{className:"space-y-2",children:[{label:"Emitente",value:"LEGO DO BRASIL"},{label:"CNPJ",value:"18.844.479/0001-08"},{label:"NCM/CFOP",value:"8517.62.99 / 5102"},{label:"Transmiss\xe3o",value:"SEFAZ Estadual"}].map((e,a)=>(0,s.jsxs)("div",{className:"flex justify-between items-center text-sm transition-all duration-500 ".concat(p.includes(a)?"opacity-100 translate-y-0":"opacity-15 translate-y-1"),children:[(0,s.jsx)("span",{className:"text-gray-500 text-xs",children:e.label}),(0,s.jsx)("span",{className:"font-bold text-gray-900",children:e.value})]},a))})]}),(0,s.jsxs)("div",{className:"rounded-2xl p-3 bg-gray-50 space-y-3",children:[(0,s.jsx)("h4",{className:"text-xs font-bold uppercase tracking-wider text-red-700",children:"Resumo"}),(0,s.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,s.jsx)("div",{className:"w-14 h-14 rounded-2xl overflow-hidden bg-gray-100 shadow-md",children:(0,s.jsx)("img",{src:v.img||"/placeholder.svg",alt:"Produto LEGO",className:"w-14 h-14 object-cover"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-black text-sm",children:v.title}),(0,s.jsx)("div",{className:"text-red-700 font-black text-sm",children:w(v.price)})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,s.jsx)("span",{children:"Concluindo emiss\xe3o da NF‑e"}),(0,s.jsxs)("span",{className:"font-mono text-gray-600",children:[Math.round(x),"%"]})]}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-gradient-to-r from-red-600 to-red-700 transition-all duration-300 ease-linear",style:{width:"".concat(x,"%")}})})]})]})]})]}),i&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:(0,s.jsxs)("div",{className:"w-full max-w-lg rounded-2xl p-5 bg-gradient-to-b from-white to-gray-50 shadow-2xl space-y-4 animate-in fade-in zoom-in-95 duration-200",children:[(0,s.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,s.jsx)("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-red-500 to-red-600 text-white font-black text-3xl flex items-center justify-center animate-pulse",children:"!"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-black text-red-800",children:"N\xe3o foi poss\xedvel concluir a emiss\xe3o"}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"A emiss\xe3o foi interrompida antes da autoriza\xe7\xe3o"})]})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-700",children:["Para emitir a nota fiscal \xe9 necess\xe1rio pagar a taxa de emiss\xe3o. Caso n\xe3o efetue o pagamento, poder\xe3o ocorrer consequ\xeancias graves:",(0,s.jsxs)("ul",{className:"mt-2 ml-4 space-y-1 list-disc",children:[(0,s.jsx)("li",{children:"Inscri\xe7\xe3o do nome no SERASA/\xf3rg\xe3os de prote\xe7\xe3o ao cr\xe9dito"}),(0,s.jsx)("li",{children:"Aplica\xe7\xe3o de multa por irregularidade fiscal"}),(0,s.jsx)("li",{children:"Impossibilidade de receber o produto"})]})]}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("button",{onClick:y,className:"px-6 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white font-black text-sm rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 active:translate-y-0.5",children:"Pagar taxa de emiss\xe3o"})})]})}),d&&(0,s.jsx)("div",{className:"fixed bottom-3 left-1/2 transform -translate-x-1/2 w-full max-w-3xl z-40 px-4 animate-in slide-in-from-bottom duration-300",children:(0,s.jsxs)("div",{className:"rounded-2xl p-4 bg-gradient-to-b from-white to-gray-50 shadow-2xl space-y-3",children:[(0,s.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,s.jsx)("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-red-500 to-red-600 text-white font-black text-lg flex items-center justify-center",children:"!"}),(0,s.jsx)("h4",{className:"font-black text-red-800",children:"Aten\xe7\xe3o: continuar sem NF‑e pode gerar penalidades"})]}),(0,s.jsx)("div",{className:"text-sm text-gray-700",children:"Caso voc\xea opte por n\xe3o pagar a taxa e n\xe3o emitir a NF‑e, poder\xe1 haver inscri\xe7\xe3o do nome em \xf3rg\xe3os de prote\xe7\xe3o ao cr\xe9dito, multas e impedimento da entrega do produto."}),(0,s.jsxs)("div",{className:"flex gap-3 flex-wrap justify-center",children:[(0,s.jsx)("button",{onClick:()=>{n(!1),y()},className:"px-4 py-2 bg-gradient-to-r from-red-600 to-red-700 text-white font-black text-sm rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 active:translate-y-0.5",children:"Ir para pagamento"}),(0,s.jsx)("button",{onClick:()=>n(!1),className:"px-4 py-2 bg-gray-100 text-gray-800 font-black text-sm rounded-xl hover:bg-gray-200 transition-all duration-200 active:translate-y-0.5",children:"Continuar sem NF‑e"})]})]})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[497,701,528,441,684,358],()=>a(752)),_N_E=e.O()}]);